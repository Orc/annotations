.\"
.\"	%Z%
.\"
.Dd Dec 26, 2005
.Dt ANNOTATIONS 7
.Os MASTODON 4
.Sh NAME
.Nm annotations
.Nd files and directories used by the weblog program
.Sh DESCRIPTION
Annotations has a collection of files and directories it uses for
configuration and storing articles.   A few are created by the user,
but most of them are generated by Annotations when it's run.
.Bl -tag -width @USERDIR@/comment/index.cgi
.It @USERDIR@/weblog.conf
The configuration file for Annotations.  This contains things
like the weblog name, the desired url for the weblog, and the
name of the weblog author.
.It @USERDIR@/page.theme
This is the weblog template form that Annotations uses to regenerate
the index page, the editing page, and the archive pages.
.It @USERDIR@/post.theme
This is the weblog template form that Annotations uses to generate the
post-a-new-article page.
.It @USERDIR@/archive.html
This is the archive page fragment for the weblog, generated as a html
list suitable for including in pages generated from page.theme.
.It @USERDIR@/index.db
This is a text database containing the name of every article posted to
the weblog and the url tail for that article.
.It @USERDIR@/index.atom.xml
This is the Atom-style RSS feed for the index page, in Atom 0.3
format.
.It @USERDIR@/index.rss.xml
This is the RSS feed for the index page, in RSS 0.9 style.
.It @USERDIR@/post/.htpasswd
A .htpasswd file is used to restrict access to a web directory.
You 
.B must
have a .htpasswd file in @USERDIR@/post, because Annotations uses
the html security model not only to keep random people from managing the
weblog, but also to determine the username of the person who is making a
particular.   As always, it is good to 
.B NOT
use the same password in the .htpasswd file that you use for ftp or
telnet into the machine where the weblogs are located.
.It @USERDIR@/post/index.html
This is the index page for the weblog owner;  it's like the
top-level index page, but it includes links to the post-an-article
cgi script and allows you to edit recent articles.
.It @USERDIR@/post/post.cgi
This is the cgi script that posts an article to the weblog.
.It @USERDIR@/post/reindex.cgi
This is the cgi script that is called to regenerate the index
pages for the weblog.   It is a shellscript that calls
@CGIDIR@/@EXEC_PREFIX@reindex@EXEC_SUFFIX@, then returns a
303 redirect page that takes you back to @USERDIR@/post/index.html
.It @USERDIR@/post/xmlpost.cgi
This is the cgi script that handles posts made via Atom publishing
format xml requests.   It is not used unless your system has
the expat and scew xml libraries installed.
.It @USERDIR@/comment/index.cgi
This CGI script is used for adding comments to a post.  It's in a
subdirectory so that if you wish to password protect commenting,
you can put a .htpasswd file into that directory and not trip up
permissions elsewhere in your @USERDIR@ directory.
.El

.Sh SEE ALSO
.Xr weblog.conf 5 ,
.Xr setup.weblog 8 ,
.Xr @EXEC_PREFIX@reindex 8
